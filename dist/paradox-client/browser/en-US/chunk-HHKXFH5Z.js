import{Aa as d,Ab as C,Bb as b,Fb as w,Gb as g,Hb as E,Ia as u,Ib as y,Ka as c,Kb as N,La as S,Ma as n,Mb as M,Na as t,Nb as P,Oa as f,Rb as V,Tb as F,Ub as L,Va as _,W as p,Y as v,Ya as l,bb as h}from"./chunk-7LBSIKEQ.js";function x(i,e){i&1&&(n(0,"p"),l(1," L'email est invalide "),t())}function D(i,e){i&1&&(n(0,"p"),l(1,"Mot de passe trop court"),t())}var A=(()=>{let e=class e{constructor(){this._builder=p(V),this._loginService=p(L),this.form=this._builder.group({email:["",[g.required,this.validateEmail]],password:["",[g.required,this.validatePassword]]})}validatePassword(a){return a.value.length>=8?null:{tooShortPassword:!0}}validateEmail(a){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.value)?null:{invalidEmail:!0}}onSubmit(){this.form.valid&&this._loginService.login(this.form.get("email")?.value,this.form.get("password")?.value),this._loginService.isConnected()?alert("User connected"):alert("User disconnected")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=v({type:e,selectors:[["app-login"]],standalone:!0,features:[h],decls:13,vars:4,consts:[[3,"formGroup","ngSubmit"],["type","email","formControlName","email"],[4,"ngIf"],["type","password","formControlName","password"],["type","submit",3,"disabled"]],template:function(r,o){if(r&1&&(n(0,"form",0),_("ngSubmit",function(){return o.onSubmit()}),n(1,"div")(2,"label"),l(3,"Email: "),t(),f(4,"input",1),c(5,x,2,0,"p",2),t(),n(6,"div")(7,"label"),l(8,"Password: "),t(),f(9,"input",3),c(10,D,2,0,"p"),t(),n(11,"button",4),l(12,"Connexion"),t()()),r&2){let m,s;u("formGroup",o.form),d(5),u("ngIf",(m=o.form.get("email"))==null||m.errors==null?null:m.errors.invalidEmail),d(5),S(10,(s=o.form.get("password"))!=null&&s.touched&&(!((s=o.form.get("password"))==null||s.errors==null)&&s.errors.tooShortPassword)?10:-1),d(1),u("disabled",!o.form.valid)}},dependencies:[F,N,w,E,y,M,P,b,C],styles:["input.ng-touched.ng-invalid[_ngcontent-%COMP%]{background-color:red}input.ng-touched.ng-valid[_ngcontent-%COMP%]{background-color:green}"]});let i=e;return i})();export{A as LoginComponent};
/**i18n:848b70f597745a8594167942089621a3852d7c727e06767549bff41da8a3e24e*/
